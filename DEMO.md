# AI需求交付平台 - 演示指南

## 功能演示流程

### 1. 启动应用

```bash
./start.sh
```

或手动启动：
```bash
# 终端1 - 启动后端
cd server && npm run dev

# 终端2 - 启动前端
cd client && npm run dev
```

### 2. 访问应用

打开浏览器访问: http://localhost:5173

### 3. 功能演示步骤

#### 步骤1：查看我的资产
1. 点击左侧菜单 **"我的资产"**
2. 查看预置的3个项目：
   - Moma（管理后台系统）
   - Codelink（代码协作平台）
   - AI需求交付平台
3. 点击任意项目，右侧展示项目详情和Git仓库列表
4. 可以尝试：
   - 添加新项目
   - 编辑项目信息
   - 为项目添加Git仓库

#### 步骤2：创建需求任务
1. 点击左侧菜单 **"首页"** 或顶部 **"新建任务"** 按钮
2. 选择项目（例如：Moma）
3. 输入需求描述，例如：
   ```
   需要在用户管理页面添加批量导入功能

   要求：
   1. 支持Excel文件上传
   2. 数据验证和错误提示
   3. 导入进度显示
   ```
4. 点击 **"提交需求"**
5. 自动跳转到任务详情页

#### 步骤3：查看任务进度
1. 在任务详情页，左侧显示实时对话
2. 可以继续输入补充需求或提问
3. AI会自动回复（当前为模拟回复）
4. 任务状态会从"待处理"变为"进行中"

#### 步骤4：查看交付报告
1. 点击页面上的"完成任务"按钮（模拟任务完成）
2. 右侧自动显示交付报告卡片
3. 查看报告内容：
   - **交付概要**：需求名称、Token消耗、MR链接
   - **代码变更**：修改的文件列表
   - **数据库变更**：SQL脚本
   - **配置变更**：配置项变更记录
4. 可以点击 **"部署测试环境"** 按钮

#### 步骤5：查看历史需求
1. 返回首页
2. 在页面下方看到 **"历史需求"** 部分
3. 需求按项目分组，可以折叠/展开
4. 点击任意需求可以查看详情

## 产品特点展示

### UI设计
- ✅ **简约风格**：清爽的白色主题，蓝色主色调
- ✅ **左侧侧边栏**：可收起，节省空间
- ✅ **顶部导航**：快速新建任务
- ✅ **响应式布局**：适配不同屏幕尺寸

### 核心功能
- ✅ **项目管理**：创建、编辑、删除项目
- ✅ **Git仓库配置**：为每个项目配置多个Git仓库
- ✅ **需求下发**：项目选择 + 需求描述
- ✅ **实时会话**：与AI对话，澄清需求
- ✅ **交付报告**：详细的变更说明和MR链接
- ✅ **历史记录**：按项目分组的需求历史

### 数据流转
1. **我的资产** → 创建项目 → 配置Git仓库
2. **首页** → 选择项目 → 输入需求 → 创建任务
3. **任务详情** → 对话沟通 → 生成报告 → 部署环境

## API接口测试

### 项目相关
```bash
# 获取所有项目
curl http://localhost:3001/api/projects

# 创建项目
curl -X POST http://localhost:3001/api/projects \
  -H "Content-Type: application/json" \
  -d '{"name":"测试项目","description":"这是一个测试项目"}'

# 获取项目的Git仓库
curl http://localhost:3001/api/projects/1/repos
```

### 任务相关
```bash
# 获取所有任务
curl http://localhost:3001/api/tasks

# 创建任务
curl -X POST http://localhost:3001/api/tasks \
  -H "Content-Type: application/json" \
  -d '{"projectId":"1","title":"测试任务","description":"这是一个测试任务"}'

# 获取任务对话
curl http://localhost:3001/api/tasks/task-xxx/conversations

# 获取任务报告
curl http://localhost:3001/api/tasks/task-xxx/report
```

## 技术亮点

1. **前后端分离**：React前端 + Express后端
2. **TypeScript全栈**：类型安全，开发效率高
3. **Ant Design UI**：企业级组件库
4. **RESTful API**：标准的API设计
5. **Mock数据**：无需数据库即可演示全流程
6. **Prisma Schema**：预定义完整的数据模型

## 下一步扩展建议

1. **集成真实数据库**：使用Prisma连接PostgreSQL
2. **AI模型集成**：接入Claude API或其他LLM
3. **Git集成**：自动创建分支、提交代码、创建MR
4. **用户认证**：添加登录、权限管理
5. **实时通知**：WebSocket推送任务状态
6. **测试环境部署**：集成CI/CD流程
7. **知识库生成**：自动生成项目文档
8. **Keones集成**：需求追踪和管理
